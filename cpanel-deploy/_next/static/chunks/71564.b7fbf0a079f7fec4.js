"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[71564],{49862:(e,t,r)=>{r.d(t,{Bh:()=>s,CL:()=>c,D5:()=>l,Di:()=>p,G1:()=>I,Gi:()=>d,L5:()=>E,MI:()=>U,Qc:()=>n,RV:()=>P,Sf:()=>C,WT:()=>R,XU:()=>i,YW:()=>m,ab:()=>f,bq:()=>u,cg:()=>j,ch:()=>x,hA:()=>h,hl:()=>O,jz:()=>T,qZ:()=>b,s0:()=>g,sV:()=>y,uL:()=>q,vx:()=>w,xQ:()=>v,xq:()=>M});var a=r(45858),o=r(54512);class n extends a.C{constructor(e,{code:t,docsPath:r,metaMessages:a,name:n,shortMessage:s}){super(s,{cause:e,docsPath:r,metaMessages:a||e?.metaMessages,name:n||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=n||e.name,this.code=e instanceof o.J8?e.code:t??-1}}class s extends n{constructor(e,t){super(e,t),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t.data}}class i extends n{constructor(e){super(e,{code:i.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(i,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class c extends n{constructor(e){super(e,{code:c.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(c,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class d extends n{constructor(e,{method:t}={}){super(e,{code:d.code,name:"MethodNotFoundRpcError",shortMessage:`The method${t?` "${t}"`:""} does not exist / is not available.`})}}Object.defineProperty(d,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class l extends n{constructor(e){super(e,{code:l.code,name:"InvalidParamsRpcError",shortMessage:"Invalid parameters were provided to the RPC method.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(l,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class u extends n{constructor(e){super(e,{code:u.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(u,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class p extends n{constructor(e){super(e,{code:p.code,name:"InvalidInputRpcError",shortMessage:"Missing or invalid parameters.\nDouble check you have provided the correct parameters."})}}Object.defineProperty(p,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class h extends n{constructor(e){super(e,{code:h.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(h,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class b extends n{constructor(e){super(e,{code:b.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(b,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class m extends n{constructor(e){super(e,{code:m.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(m,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class f extends n{constructor(e,{method:t}={}){super(e,{code:f.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${t?` "${t}"`:""} is not supported.`})}}Object.defineProperty(f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class g extends n{constructor(e){super(e,{code:g.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(g,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class v extends n{constructor(e){super(e,{code:v.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class w extends s{constructor(e){super(e,{code:w.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(w,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class y extends s{constructor(e){super(e,{code:y.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(y,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class C extends s{constructor(e,{method:t}={}){super(e,{code:C.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${t?` " ${t}"`:""}.`})}}Object.defineProperty(C,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class P extends s{constructor(e){super(e,{code:P.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(P,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class M extends s{constructor(e){super(e,{code:M.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(M,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class x extends s{constructor(e){super(e,{code:x.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(x,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class E extends s{constructor(e){super(e,{code:E.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(E,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class R extends s{constructor(e){super(e,{code:R.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(R,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class O extends s{constructor(e){super(e,{code:O.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(O,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class j extends s{constructor(e){super(e,{code:j.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(j,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class q extends s{constructor(e){super(e,{code:q.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(q,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class I extends s{constructor(e){super(e,{code:I.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class T extends s{constructor(e){super(e,{code:T.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(T,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class U extends n{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}},54512:(e,t,r)=>{r.d(t,{Ci:()=>s,J8:()=>c,MU:()=>l,Oz:()=>d,Pr:()=>i});var a=r(83732),o=r(45858),n=r(89692);class s extends o.C{constructor({body:e,cause:t,details:r,headers:o,status:s,url:i}){super("HTTP request failed.",{cause:t,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${(0,n.I)(i)}`,e&&`Request body: ${(0,a.A)(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=o,this.status=s,this.url=i}}class i extends o.C{constructor({body:e,cause:t,details:r,url:o}){super("WebSocket request failed.",{cause:t,details:r,metaMessages:[`URL: ${(0,n.I)(o)}`,e&&`Request body: ${(0,a.A)(e)}`].filter(Boolean),name:"WebSocketRequestError"})}}class c extends o.C{constructor({body:e,error:t,url:r}){super("RPC Request failed.",{cause:t,details:t.message,metaMessages:[`URL: ${(0,n.I)(r)}`,`Request body: ${(0,a.A)(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=t.code,this.data=t.data}}class d extends o.C{constructor({url:e}={}){super("The socket has been closed.",{metaMessages:[e&&`URL: ${(0,n.I)(e)}`].filter(Boolean),name:"SocketClosedError"})}}class l extends o.C{constructor({body:e,url:t}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${(0,n.I)(t)}`,`Request body: ${(0,a.A)(e)}`],name:"TimeoutError"})}}},71564:(e,t,r)=>{r.d(t,{autoConnectWC:()=>C,connectWC:()=>y});var a=r(59785),o=r(49862),n=r(55389),s=r(23802),i=r(99232),c=r(23471),d=r(8118),l=r(94879),u=r(92212),p=r(58669),h=r(66900),b=r(20029),m=r(28462),f=r(72126),g=r(86633);let v="wallet_addEthereumChain",w={requestedChains:"tw.wc.requestedChains",lastUsedChainId:"tw.wc.lastUsedChainId"};async function y(e,t,r,a,o){let n=await P(e,r,o),i=e.walletConnect,{onDisplayUri:c}=i||{};if(!c&&o){let e=await (0,h.u)(r);c=t=>{let r=e.mobile.native||e.mobile.universal;if(!r)return void o(t);o((0,p.YP)(r,t).redirect)}}c&&n.events.addListener("display_uri",c);let d=i?.optionalChains,l=e.chain;"global.safe"===r&&(d=q.map(s.Q4),l&&!d.includes(l)&&(l=void 0));let{rpcMap:b,requiredChain:m,optionalChains:g}=j({client:e.client,chain:l,optionalChains:d});n.session&&await n.connect({...i?.pairingTopic?{pairingTopic:i?.pairingTopic}:{},optionalChains:g,chains:m?[m.id]:void 0,rpcMap:b}),R(g,a);let v=(await n.enable())[0];if(!v)throw Error("No accounts found on provider.");let w=(0,f.A)(n.chainId),y=e.chain&&e.chain.id===w?e.chain:(0,s.Q4)(w);if(e){let t={optionalChains:e.walletConnect?.optionalChains,chain:e.chain,pairingTopic:e.walletConnect?.pairingTopic};a&&(0,u.O7)(a,r,t)}return i?.onDisplayUri&&n.events.removeListener("display_uri",i.onDisplayUri),x(v,y,n,t,a,e.client)}async function C(e,t,r,a,o){let n=a?await (0,u.lh)(a,r):null,i=await P(n?{chain:n.chain,client:e.client,walletConnect:{pairingTopic:n.pairingTopic,optionalChains:n.optionalChains}}:{client:e.client,walletConnect:{}},r,o,!0),c=i.accounts[0];if(!c)throw Error("No accounts found on provider.");let d=(0,f.A)(i.chainId);return x(c,e.chain&&e.chain.id===d?e.chain:(0,s.Q4)(d),i,t,a,e.client)}async function P(e,t,a,o=!1){let n=await (0,h.u)(t),i=e.walletConnect,{EthereumProvider:c,OPTIONAL_EVENTS:d,OPTIONAL_METHODS:l}=await Promise.all([r.e(67639),r.e(42396)]).then(r.bind(r,28405)),u=i?.optionalChains,p=e.chain;"global.safe"===t&&(u=q.map(s.Q4),p&&!u.includes(p)&&(p=void 0));let{rpcMap:b,requiredChain:f,optionalChains:v}=j({client:e.client,chain:p,optionalChains:u}),w=await c.init({showQrModal:i?.showQrModal===void 0?!a:i.showQrModal,projectId:i?.projectId||g.S,optionalMethods:l,optionalEvents:d,optionalChains:v,chains:f?[f.id]:void 0,metadata:{name:i?.appMetadata?.name||(0,m.o)().name,description:i?.appMetadata?.description||(0,m.o)().description,url:i?.appMetadata?.url||(0,m.o)().url,icons:[i?.appMetadata?.logoUrl||(0,m.o)().logoUrl]},rpcMap:b,qrModalOptions:i?.qrModalOptions,disableProviderPing:!0});if(w.events.setMaxListeners(Number.POSITIVE_INFINITY),!o&&w.session&&await w.disconnect(),"walletConnect"!==t){async function y(){let e=w.session?.peer?.metadata?.redirect?.native||n.mobile.native||n.mobile.universal;a&&e&&await a(e)}w.signer.client.on("session_request_sent",y),w.events.addListener("disconnect",()=>{w.signer.client.off("session_request_sent",y)})}return w}function M({provider:e,address:t,client:r}){return{address:(0,i.bv)(t),async sendTransaction(a){let o=await e.request({method:"eth_sendTransaction",params:[{gas:a.gas?(0,c.cK)(a.gas):void 0,value:a.value?(0,c.cK)(a.value):void 0,from:(0,i.bv)(t),to:a.to,data:a.data}]});return(0,n.E)({client:r,walletAddress:(0,i.bv)(t),walletType:"walletConnect",transactionHash:o,chainId:a.chainId,contractAddress:a.to??void 0,gasPrice:a.gasPrice}),{transactionHash:o}},async signMessage({message:t}){let r="string"==typeof t?(0,c.i3)(t):t.raw instanceof Uint8Array?(0,c.EY)(t.raw):t.raw;return e.request({method:"personal_sign",params:[r,this.address]})},async signTypedData(t){let r=(0,l.y)(t),{domain:o,message:n,primaryType:s}=r,i={EIP712Domain:(0,a.H4)({domain:o}),...r.types};(0,a.$$)({domain:o,message:n,primaryType:s,types:i});let c=(0,a.v8)({domain:o??{},message:n,primaryType:s,types:i});return await e.request({method:"eth_signTypedData_v4",params:[this.address,c]})}}}function x(e,t,r,a,o,n){let c=M({provider:r,address:e,client:n});async function d(){r.removeListener("accountsChanged",u),r.removeListener("chainChanged",p),r.removeListener("disconnect",l),await r.disconnect()}function l(){R([],o),o?.removeItem(w.lastUsedChainId),d(),a.emit("disconnect",void 0)}function u(e){if(e[0]){let t=M({provider:r,address:(0,i.bv)(e[0]),client:n});a.emit("accountChanged",t),a.emit("accountsChanged",e)}else l()}function p(e){let t=(0,s.Q4)((0,f.A)(e));a.emit("chainChanged",t),o?.setItem(w.lastUsedChainId,String(e))}return r.on("accountsChanged",u),r.on("chainChanged",p),r.on("disconnect",l),r.on("session_delete",l),[c,t,d,e=>E(r,e,o)]}async function E(e,t,r){let a=t.id;try{let o=e.session?.namespaces[g.C]?.chains?.map(e=>Number.parseInt(e.split(":")[1]||""))??[],n=e.session?.namespaces[g.C]?.methods||[];if(!o.includes(a)&&n.includes(v)){let o=await (0,s.getChainMetadata)(t),n=[...new Set([...t.blockExplorers?.map(e=>e.url)||[],...o.explorers?.map(e=>e.url)||[]])];await e.request({method:v,params:[{chainId:(0,c.cK)(o.chainId),chainName:o.name,nativeCurrency:o.nativeCurrency,rpcUrls:(0,b.k)(o),blockExplorerUrls:n.length>0?n:void 0}]});let i=await O(r);i.push(a),R(i,r)}await e.request({method:"wallet_switchEthereumChain",params:[{chainId:(0,c.cK)(a)}]})}catch(t){let e="string"==typeof t?t:t?.message;if(/user rejected request/i.test(e))throw new o.vx(t);throw new o.ch(t)}}function R(e,t){t?.setItem(w.requestedChains,(0,d.stringify)(e))}async function O(e){let t=await e.getItem(w.requestedChains);return t?JSON.parse(t):[]}function j(e){let t={};e.chain&&(t[e.chain.id]=(0,s.r8)({chain:e.chain,client:e.client}));let r=(e?.optionalChains||[]).slice(0,10);for(let a of r)t[a.id]=(0,s.r8)({chain:a,client:e.client});return e.chain||0!==r.length||(t[1]=(0,s.Q4)(1).rpc),{rpcMap:t,requiredChain:e.chain?e.chain:void 0,optionalChains:r.length>0?r.map(e=>e.id):[1]}}let q=[1,0xaa36a7,42161,43114,8453,0x4e454152,84532,56,42220,100,10,137,1101,324,534352]},89692:(e,t,r)=>{r.d(t,{I:()=>o,R:()=>a});let a=e=>e,o=e=>e}}]);